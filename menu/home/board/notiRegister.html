<!DOCTYPE html>
<html>  
<head>  
<title>공지사항</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="UTF-8">
<meta env="null">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/wsrv/core/images/favicon.ico">

<script>
//document.domain='heungkukfire.co.kr';
</script>

<script>
var global_page_context_path = "";
var ePortalConfig = {
	  "runtime" : "local"
	, "license" : false
	, "mainPageId" : ""
	, "page_id" : ''
	, "userInfo" : {}
	, "attachRootUrl":'/staticimg'
	, "link" : {
		  "portalMain" : ""
	}
	, "domain" : {
	}
	, "context" : {
		  "epplt" : (""||global_page_context_path)
		, "board" : (""||'')
	}
	,"fileupload":{
		"useFileExt":'gif|png|jpg|jpeg|ppt|pptx|xls|xlsx|doc|docx|zip|hwp|pdf'
		,"useMigFileExt":'xls|xlsx'
		,"maxUploadSize": 104857600
		,"maxUploadSizePerFile":20971520
	}
};
</script>

<link rel="stylesheet" href="/wsrv/app/css/plugin/jquery.toast.css">
<link href="/wsrv/app/fonts/fontello/css/fontello.css" rel="stylesheet" type="text/css" />
<link href="/wsrv/app/css/plugin/jstree/default/style.min.css" rel="stylesheet" type="text/css" />

<link href="/wsrv/app/js/plugins/mCustomScrollbar/jquery.mCustomScrollbar.css" rel="stylesheet" />
<link href="/styles/css/style.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="/wsrv/app/js/jquery.min.js"></script> 
<script type="text/javascript" src="/wsrv/app/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="/wsrv/app/js/bootstrap.js"></script> 
<script type="text/javascript" src="/wsrv/app/js/plugins/toast/jquery.toast.min.js"></script>
<script type="text/javascript" src="/wsrv/app/js/plugins/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js"></script>

<script type="text/javascript" src="/wsrv/core/js/pub.ep.js"></script>
<script type="text/javascript" src="/wsrv/core/js/pub.ep.ui.js"></script>

<script type="text/javascript" src="/wsrv/core/js/plugins/vue/vue.min.js"></script>
<script type="text/javascript" src="/wsrv/core/js/plugins/vue/vue.portal.js?version=20201207" charset="utf-8"></script>
<script type="text/javascript" src="/wsrv/app/js/plugins/sortablejs/Sortable.min.js"></script>

<script type="text/javascript" src="/wsrv/app/js/pencake.js?version=75876.43041433542"></script>
<script type="text/javascript" src="/wsrv/app/js/pencake.custom.js?version=2254.602283735585"></script>
</head>

<body class="popup">
<script type="text/javascript" src="/wsrv/app/js/plugins/fuse/fuse.min.js"></script>
	<div id="epAppViewArea" class="wrap-popup">
		<div class="main pd-0">
            <div class="noti-list-layer register-noti">
                <div class="layer-cnt">
                    <div class="content-box">
                        <table class="common-table mb-8" data-table-bg="white" data-table-align="left" data-table-border="true">
                            <colgroup>
                                <col style="width: 80px;">
                                <col style="width: auto;">
                                <col style="width: 80px;">
                                <col style="width: auto;">
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th>제목</th>
                                    <td colspan="3">
                                        <div class="input-box">
                                            <div class="input-type-txt">
                                                <input type="text" class="common-input" data-input-size="s" placeholder="제목을 입력하세요" autocomplete="false" />
                                                <button type="button" class="delete-btn" title="내용 지우기" aria-label="내용 지우기"></button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>게시기간</th>
                                    <td colspan="3">
                                        <div class="input-box gap-4">
                                            <div class="inner">
                                                <input type="date" class="common-input" data-input-size="s" style="--width: 120px;" />
                                            </div>
                                            <span>~</span>
                                            <div class="inner">
                                                <input type="date" class="common-input" data-input-size="s" style="--width: 120px;" disabled />
                                            </div>
                                            <label class="input-box">
                                                <input type="checkbox" class="common-checkbox" data-input-size="big" name="" id="" checked />
                                                <span></span>
                                                <p class="txt">영구</p>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>팝업공지</th>
                                    <td colspan="3">
                                        <div class="input-box gap-4">
                                            <div class="inner">
                                                <input type="date" class="common-input" data-input-size="s" style="--width: 120px;" />
                                            </div>
                                            <span>~</span>
                                            <div class="inner">
                                                <input type="date" class="common-input" data-input-size="s" style="--width: 120px;" />
                                            </div>
                                            <label class="input-box">
                                                <input type="checkbox" class="common-checkbox" data-input-size="big" name="" id="" />
                                                <span></span>
                                                <p class="txt">중요게시 & 팝업공지</p>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>팝업옵션</th>
                                    <td colspan="3">
                                        <div class="input-box">
                                            <div class="input-type-txt">
                                                <input type="text" class="common-input" data-input-size="s" placeholder="ex&#41; width=700, height=750, resize=1, scrollbars=1" autocomplete="false" />
                                                <button type="button" class="delete-btn" title="내용 지우기" aria-label="내용 지우기"></button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>첨부파일</th>
                                    <td colspan="3">
                                        <div class="input-box">
                                            <input type="file" class="hidden common-file-input" id="addFile" />
                                            <label class="btn cg-fill" data-btn-size="s" for="addFile">파일추가</label>
                                        </div>
                                        <ul class="file-list mt-4">
                                            <li>
                                                <div class="file-name">
                                                    <p>파일명파일명파일명파일명파일명파일명파일명파일명.xlsx</p>
                                                    <span class="capacity">[153.54 KB]</span>
                                                </div>
                                                <button type="button" class="del-btn" title="삭제" aria-label="삭제"></button>
                                            </li>
                                            <li>
                                                <div class="file-name">
                                                    <p>파일명.xlsx</p>
                                                    <span class="capacity">[153.54 KB]</span>
                                                </div>
                                                <button type="button" class="del-btn" title="삭제" aria-label="삭제"></button>
                                            </li>
                                            <li>
                                                <div class="file-name">
                                                    <p>파일명.xlsx</p>
                                                    <span class="capacity">[153.54 KB]</span>
                                                </div>
                                                <button type="button" class="del-btn" title="삭제" aria-label="삭제"></button>
                                            </li>
                                            <li>
                                                <div class="file-name">
                                                    <p>파일명.xlsx</p>
                                                    <span class="capacity">[153.54 KB]</span>
                                                </div>
                                                <button type="button" class="del-btn" title="삭제" aria-label="삭제"></button>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <th>읽기 권한</th>
                                    <td>
                                        <div class="flex-row gap-4">
                                            <label class="input-box" data-width="auto">
                                                <input type="radio" class="common-radio" data-input-size="big" name="read_right" id="" value="" checked />
                                                <span class="txt">전체공개</span>
                                            </label>
                                            <label class="input-box" data-width="auto">
                                                <input type="radio" class="common-radio" data-input-size="big" name="read_right" id="" value="" />
                                                <span class="txt">권한공개</span>
                                            </label>
                                        </div>
                                    </td>
                                    <th>작성자</th>
                                    <td>IT지원팀(T/S) 장원영</td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- 에디터 영역 -->
                        <div class="editor" style="width: 100%; height: 300px; display: flex; align-items: center; justify-content: center; background-color: #f5f5f5; border: 1px solid #bdbdbd;">
                            에디터 영역
                        </div>
                        <!-- // 에디터 영역 -->
                    </div>
                    <div class="popup-bottom">
                        <div class="btn-wrap">
                            <button type="button" class="btn wg-line" data-btn-size="m" id="previewBtn" @click="contentPreview">미리보기</button>
                            <button type="button" class="btn" data-btn-size="m">저장</button>
                            <button type="button" class="btn black" data-btn-size="m">닫기</button>
                        </div>
                    </div>
                </div>
            </div>
		</div>
	</div>
</body>
</html>

<script>
    // 미리보기 팝업 오픈
    $portalApp.vueServiceBean({
        el: "#previewBtn",
        methods: {
            contentPreview: function() {
                PencakeCustomCTRL.showModal("/menu/home/board/notiPreview.html", {
                    targetId: 'notiPreview',
                    width: 1000,
                    height: 700,
                    showTitle: true,
                    title: "공지사항 미리보기",
                });
            }
        }
    });

    // TEXT/NUMBER INPUT 삭제버튼
    // input에 포커스 되었고, 값이 있는 상태면 has-value 클래스 추가
    // delete btn 클릭 시 input에 값 삭제 및 has-value 클래스 제거 후 다시 input focus
    $(document)
    .on('focus', '.input-type-txt .common-input', function () {
        const $input = $(this);
        const $wrap = $input.closest('.input-type-txt');

        if ($input.val().length > 0) {
            $wrap.addClass('has-value');
        }
    })

    .on('input', '.input-type-txt .common-input', function () {
        const $input = $(this);
        const $wrap = $input.closest('.input-type-txt');

        if ($input.val().length > 0) {
            $wrap.addClass('has-value');
        } else {
            $wrap.removeClass('has-value');
        }
    })

    .on('blur', '.input-type-txt .common-input', function () {
        const $wrap = $(this).closest('.input-type-txt');
        $wrap.removeClass('has-value');
    })

    .on('mousedown', '.input-type-txt .delete-btn', function (e) {
        e.preventDefault();

        const $wrap = $(this).closest('.input-type-txt');
        const $input = $wrap.find('.common-input');

        $input.val('');
        $wrap.removeClass('has-value');

        setTimeout(function () {
            $input.focus();
        }, 0);
    });
</script>